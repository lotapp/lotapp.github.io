<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>模块专题</title>
    <script src="//cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <link rel="stylesheet" href="../../../style/css/jupyter.all.min.css">
    <script src="../../../style/js/mynav.min.js" async></script>
</head>

<body>
    <div tabindex="-1" id="notebook" class="border-box-sizing">
        <div class="container" id="notebook-container">

            <div class="cell border-box-sizing text_cell rendered">
                <div class="prompt input_prompt">
                </div>
                <div class="inner_cell">
                    <div class="text_cell_render border-box-sizing rendered_html">
                        <p>代码裤子：
                            <a href="https://github.com/lotapp/BaseCode/tree/master" target="_blank">https://github.com/lotapp/BaseCode/tree/master</a>
                        </p>
                        <p>在线编程：
                            <a href="https://mybinder.org/v2/gh/lotapp/BaseCode/master" target="_blank">https://mybinder.org/v2/gh/lotapp/BaseCode/master</a>
                        </p>
                        <p>在线预览：
                            <a href="http://github.lesschina.com/python/base/module/模块专题.html" target="_blank">http://github.lesschina.com/python/base/module/模块专题.html</a>
                        </p>
                        <p>老师休假度蜜月去了，这学期也到了尾声，小明同学觉得自己学的挺好的，在四处逛游的过程中看见了小潘的电脑，然后惊到了！</p>

                    </div>
                </div>
            </div>
            <div class="cell border-box-sizing code_cell rendered">
                <div class="input">
                    <div class="prompt input_prompt">In&nbsp;[1]:</div>
                    <div class="inner_cell">
                        <div class="input_area">
                            <div class=" highlight hl-ipython3">
                                <pre><span></span><span class="c1"># 导入matplotlib的pyplot模块</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">x_list</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">11</span><span class="p">))</span>
<span class="n">y_list</span><span class="o">=</span><span class="p">[</span><span class="n">y</span><span class="o">*</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">x_list</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="n">x_list</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y_list</span><span class="p">)</span>
</pre>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="output_wrapper">
                    <div class="output">


                        <div class="output_area">

                            <div class="prompt"></div>


                            <div class="output_subarea output_stream output_stdout output_text">
                                <pre>[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
[3, 5, 7, 9, 11, 13, 15, 17, 19, 21]
</pre>
                            </div>
                        </div>

                    </div>
                </div>

            </div>
            <div class="cell border-box-sizing code_cell rendered">
                <div class="input">
                    <div class="prompt input_prompt">In&nbsp;[2]:</div>
                    <div class="inner_cell">
                        <div class="input_area">
                            <div class=" highlight hl-ipython3">
                                <pre><span></span><span class="c1"># 画图</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x_list</span><span class="p">,</span><span class="n">y_list</span><span class="p">)</span>
<span class="c1"># 设置X，Y的坐标区间（可以不设置，用默认显示方式）</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">25</span><span class="p">])</span>
<span class="c1"># 显示图片</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="output_wrapper">
                    <div class="output">


                        <div class="output_area">

                            <div class="prompt"></div>




                            <div class="output_png output_subarea ">
                                <img src="../../../images/python/2018-06-20/output.png">
                            </div>

                        </div>

                    </div>
                </div>

            </div>
            <div class="cell border-box-sizing text_cell rendered">
                <div class="prompt input_prompt">
                </div>
                <div class="inner_cell">
                    <div class="text_cell_render border-box-sizing rendered_html">
                        <p>小潘昨晚螃蟹吃多了，今天拉肚子拉的不要不要的，现在去药店买紫苏和干姜来解蟹毒呢</p>
                        <p>怎么办呢，感觉自己不再萌萌哒了，好心情瞬间被比下去了，小明内心不断思索中....</p>
                        <p>作为一个吃胖了的小明，过了一分钟就调节好了，然后好好看小潘的Code</p>
                        <p>咦，第一句是啥？不管，继续看
                            <code>x_list=list(range(1,11))</code>
                            <code>y_list=[y*2+1 for y in x_list]</code>
                        </p>
                        <p>这不是之前老师讲的
                            <a href="https://www.cnblogs.com/dotnetcrazy/p/9155310.html#1.9.列表生成式" target="_blank">列表生成式</a>吗？然后就是画图了，好像也不是很难，开头到底是个啥，有了这个就可以几句话实现牛逼哄哄的技能了，不行得买瓶饮料问问课代表伟哥～</p>
                        <p>一进伟哥宿舍就发现，伟哥在给舍友们补课？这是要讲课的节奏吗？赶紧凑过来学习～</p>
                        <h2 id="1.&#27169;&#22359;&#23548;&#20837;">1.&#27169;&#22359;&#23548;&#20837;
                            <a class="anchor-link" href="#1.&#27169;&#22359;&#23548;&#20837;">&#182;</a>
                        </h2>
                        <p>模块就是一组功能的集合体，我们的程序可以导入模块来复用模块里的功能</p>
                        <p>在Python中，一个py文件就称之为一个
                            <strong>模块</strong>（Module）</p>
                        <p>我们先来讲讲
                            <strong>模块怎么导入</strong>，上学期我们学了点C，发现每个文件开头都有一个
                            <code>#include &lt;stdio.h&gt;</code>
                        </p>
                        <p>这个就类似我们说的模块导入了，咱们Python的模块导入和Java有点像用
                            <code>import</code> 来导入</p>
                        <p>先看个例子 ～ 我们定义了一个test.py文件，里面定义了这么一个函数：</p>
                        <div class="highlight">
                            <pre><span></span><span class="c1"># %load test.py</span>
<span class="k">def</span> <span class="nf">show</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;---show---&quot;</span><span class="p">)</span>
</pre>
                        </div>
                        <p>我们想在新的py文件中使用这个函数</p>
                        <h3 id="1.1.import&#23548;&#20837;&#26041;&#24335;1">1.1.import&#23548;&#20837;&#26041;&#24335;1
                            <a class="anchor-link" href="#1.1.import&#23548;&#20837;&#26041;&#24335;1">&#182;</a>
                        </h3>
                        <p>
                            <code>import test</code> 把这个文件直接导入进来了</p>
                        <div class="highlight">
                            <pre><span></span><span class="kn">import</span> <span class="nn">test</span>

<span class="n">test</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre>
                        </div>
                        <p>执行结果：</p>

                        <pre><code>---show---</code></pre>
                        <h3 id="1.2.from&#8230;import&#23548;&#20837;&#26041;&#24335;2">1.2.from&#8230;import&#23548;&#20837;&#26041;&#24335;2
                            <a class="anchor-link" href="#1.2.from&#8230;import&#23548;&#20837;&#26041;&#24335;2">&#182;</a>
                        </h3>
                        <p>有时候我们只需要用到模块中的某个函数，只需要引入该函数即可</p>
                        <p>
                            <code>from test import show</code> 把这个文件的show方法导入进来，调用的时候直接
                            <code>show()</code>即可</p>
                        <div class="highlight">
                            <pre><span></span><span class="kn">from</span> <span class="nn">test</span> <span class="kn">import</span> <span class="n">show</span>

<span class="n">show</span><span class="p">()</span>
</pre>
                        </div>
                        <p>执行结果：</p>

                        <pre><code>---show---</code></pre>
                        <p>
                            <strong>使用模块有什么好处？</strong>
                        </p>
                        <ol>
                            <li>
                                <p>
                                    <strong>提高了代码的维护性</strong>，当一个模块编写完毕，就可以被其他地方引用。</p>
                            </li>
                            <li>
                                <p>使用模块还可以
                                    <strong>避免函数名和变量名冲突</strong>。相同名字的函数和变量完全可以分别存在不同的模块中</p>
                            </li>
                        </ol>
                        <p>我们自己在编写模块时，不必考虑名字会与其他模块冲突(不要和
                            <a href="https://docs.python.org/3/library/functions.html" blank="_self">内置函数</a>名字冲突)</p>
                        <p>
                            <img src="../../../images/python/2018-06-20/sysfunc.png" alt="图片">
                        </p>

                    </div>
                </div>
            </div>
            <div class="cell border-box-sizing text_cell rendered">
                <div class="prompt input_prompt">
                </div>
                <div class="inner_cell">
                    <div class="text_cell_render border-box-sizing rendered_html">
                        <h3 id="1.3.&#23548;&#20837;&#22810;&#20010;&#27169;&#22359;">1.3.&#23548;&#20837;&#22810;&#20010;&#27169;&#22359;
                            <a class="anchor-link" href="#1.3.&#23548;&#20837;&#22810;&#20010;&#27169;&#22359;">&#182;</a>
                        </h3>
                        <p>看着小明一愣一愣的，加上那瓶菊花茶的面子，课代表来了一个demo：</p>
                        <p>test1.py</p>
                        <div class="highlight">
                            <pre><span></span><span class="n">test_str</span> <span class="o">=</span> <span class="s2">&quot;111&quot;</span>

<span class="k">def</span> <span class="nf">show</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="s2">&quot;show&quot;</span><span class="p">)</span>
</pre>
                        </div>
                        <p>test2.py</p>
                        <div class="highlight">
                            <pre><span></span><span class="n">test_str</span> <span class="o">=</span> <span class="s2">&quot;222&quot;</span>

<span class="k">def</span> <span class="nf">show</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="s2">&quot;show&quot;</span><span class="p">)</span>
</pre>
                        </div>
                        <p>可以以
                            <code>,</code>分隔（
                            <strong>这种导入方式，官方推荐多行导入</strong>）</p>
                        <div class="highlight">
                            <pre><span></span><span class="kn">import</span> <span class="nn">test1</span><span class="o">,</span> <span class="nn">test2</span>

<span class="k">print</span><span class="p">(</span><span class="n">test1</span><span class="o">.</span><span class="n">test_str</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">test2</span><span class="o">.</span><span class="n">test_str</span><span class="p">)</span>

<span class="n">test1</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">test2</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre>
                        </div>
                        <p>结果：</p>

                        <pre><code>111
222
test1 show
test2 show</code></pre>
                        <p>还可以用这种方式，该模块里面的函数名、变量名以逗号分隔（不用多行）</p>
                        <p>通过这种方式引入的时候，是当两个模块中含有相同名称函数的时候，后面一次引入会覆盖前一次引入，所以用
                            <code>as</code>来避免一下</p>
                        <div class="highlight">
                            <pre><span></span><span class="kn">from</span> <span class="nn">test1</span> <span class="kn">import</span> <span class="n">show</span> <span class="k">as</span> <span class="n">show1</span><span class="p">,</span> <span class="n">test_str</span> <span class="k">as</span> <span class="n">test_str1</span>
<span class="kn">from</span> <span class="nn">test2</span> <span class="kn">import</span> <span class="n">show</span> <span class="k">as</span> <span class="n">show2</span><span class="p">,</span> <span class="n">test_str</span> <span class="k">as</span> <span class="n">test_str2</span>

<span class="k">print</span><span class="p">(</span><span class="n">test_str1</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">test_str2</span><span class="p">)</span>

<span class="n">show1</span><span class="p">()</span>
<span class="n">show2</span><span class="p">()</span>
</pre>
                        </div>
                        <p>结果：</p>

                        <pre><code>111
222
test1 show
test2 show</code></pre>
                        <p>如果想引入模块中所有东西可以用
                            <strong>
                                <code>from 模块名 import *</code>
                            </strong>，这样所有
                            <strong>被允许</strong>(过会讲)的变量和函数都被导入进来了(
                            <strong>少用</strong>)</p>
                        <p>
                            <code>from 模块名 import</code> 好处：使用起来方便了，坏处：容易与当前执行文件中的名字冲突</p>

                    </div>
                </div>
            </div>
            <div class="cell border-box-sizing text_cell rendered">
                <div class="prompt input_prompt">
                </div>
                <div class="inner_cell">
                    <div class="text_cell_render border-box-sizing rendered_html">
                        <h2 id="2.&#27169;&#22359;&#30340;&#31616;&#21333;&#33258;&#27979;&#35797;">2.&#27169;&#22359;&#30340;&#31616;&#21333;&#33258;&#27979;&#35797;
                            <a class="anchor-link" href="#2.&#27169;&#22359;&#30340;&#31616;&#21333;&#33258;&#27979;&#35797;">&#182;</a>
                        </h2>
                        <p>小明恍然大悟，盯着
                            <code>__name__</code>看了好久，然后结合前面的知识，乘着旁边位置电脑没人，写了一半的demo卡壳了：</p>
                        <p>get_infos.py</p>
                        <div class="highlight">
                            <pre><span></span><span class="k">def</span> <span class="nf">get_infos</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;信息如下：xxxx&quot;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">get_infos</span><span class="p">()</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre>
                        </div>
                        <p>伟哥过来瞟了一眼继续讲到：</p>
                        <p>之前老师讲面向对象的时候有提到标准格式写法：</p>
                        <div class="highlight">
                            <pre><span></span><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">get_infos</span><span class="p">()</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre>
                        </div>
                        <p>python文件可以有两种用途：</p>
                        <ol>
                            <li>当做
                                <strong>脚本</strong>来单独使用或者执行</li>
                            <li>当做
                                <strong>模块</strong>来给别人调用</li>
                        </ol>
                        <p>那怎么区分呢？就要用到
                            <code>__name__</code>了</p>
                        <p>我们来看个案例就懂了：</p>
                        <p>get_user_infos.py</p>
                        <div class="highlight">
                            <pre><span></span><span class="k">def</span> <span class="nf">get_infos</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;信息如下：xxxx&quot;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">get_infos</span><span class="p">()</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre>
                        </div>
                        <p>再定义一个函数来调用它</p>
                        <div class="highlight">
                            <pre><span></span><span class="kn">import</span> <span class="nn">get_user_infos</span> <span class="kn">as</span> <span class="nn">user_infos</span>

<span class="n">user_infos</span><span class="o">.</span><span class="n">get_infos</span><span class="p">()</span>
</pre>
                        </div>
                        <p>
                            <strong>直接执行的时候
                                <code>__name__</code>等于
                                <code>__main__</code>，别人调用的时候显示该文件名</strong>
                            <img src="../../../images/python/2018-06-20/name.png" alt="图片">
                        </p>
                        <p>这样的好处就是==&gt; 避免被别人导入的时候执行某些Code</p>
                        <p>小明乐坏了，平时和小潘以前做项目老被吐槽，学了这个得好好嘲讽一下小潘了</p>
                        <p>以后再也不怕直接py文件各种问题了，咱们可以先简单自测一下O(∩_∩)O哈！</p>

                    </div>
                </div>
            </div>
            <div class="cell border-box-sizing text_cell rendered">
                <div class="prompt input_prompt">
                </div>
                <div class="inner_cell">
                    <div class="text_cell_render border-box-sizing rendered_html">
                        <h2 id="3.&#25511;&#21046;&#21487;&#20351;&#29992;&#30340;&#20989;&#25968;&#12289;&#21464;&#37327;&#12289;&#31867;">3.&#25511;&#21046;&#21487;&#20351;&#29992;&#30340;&#20989;&#25968;&#12289;&#21464;&#37327;&#12289;&#31867;
                            <a class="anchor-link" href="#3.&#25511;&#21046;&#21487;&#20351;&#29992;&#30340;&#20989;&#25968;&#12289;&#21464;&#37327;&#12289;&#31867;">&#182;</a>
                        </h2>
                        <h3 id="3.1.&#36890;&#36807;&#31169;&#26377;&#26469;&#25511;&#21046;">3.1.&#36890;&#36807;&#31169;&#26377;&#26469;&#25511;&#21046;
                            <a class="anchor-link" href="#3.1.&#36890;&#36807;&#31169;&#26377;&#26469;&#25511;&#21046;">&#182;</a>
                        </h3>
                        <p>在一个模块中，我们可能会定义很多函数和变量，但有的函数和变量我们希望给别人使用，有的函数和变量我们希望仅仅在模块内部使用。在Python中，是通过
                            <code>_</code>前缀来实现的</p>
                        <p>小明同学基础功底扎实，看见标题小明就乐了，前面看了这么多案例瞬间秒懂，大叫道～”等一下～～～我来写demo，要是不行请你们吃晚饭～“</p>
                        <p>写下了如下代码：</p>
                        <p>test3.py</p>
                        <div class="highlight">
                            <pre><span></span><span class="k">def</span> <span class="nf">test1</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;test1&quot;</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">_test2</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;test2&quot;</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">__test3</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;test3&quot;</span><span class="p">)</span>
</pre>
                        </div>
                        <p>调用代码：</p>
                        <div class="highlight">
                            <pre><span></span><span class="kn">import</span> <span class="nn">test3</span>

<span class="n">test3</span><span class="o">.</span><span class="n">test1</span><span class="p">()</span>
<span class="n">test3</span><span class="o">.</span><span class="n">_test2</span><span class="p">()</span>
<span class="n">test3</span><span class="o">.</span><span class="n">__test3</span><span class="p">()</span>
</pre>
                        </div>
                        <p>结果：</p>

                        <pre><code>test1
test2
test3</code></pre>
                        <p>大家大眼瞪小眼的看着小明，嘴角边露出了阴谋的味道～</p>
                        <p>这下小明傻眼了，难道老师之前类的私有系列讲错了？</p>
                        <p>小平瞥了小明一眼说道，你自己的打开方式不对还怪老师咯？看我给你改改~</p>
                        <p>调用代码：</p>
                        <div class="highlight">
                            <pre><span></span><span class="kn">from</span> <span class="nn">test3</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">test1</span><span class="p">()</span>
<span class="n">_test2</span><span class="p">()</span>
<span class="n">__test3</span><span class="p">()</span>
</pre>
                        </div>
                        <p>小明运行后就傻眼了，心想到，课代表这个宿舍卧虎藏龙啊，下次少来点，不然这点老底就被他们吃空了</p>
                        <p>
                            <code>NameError: name '_test2' is not defined</code>
                        </p>
                        <p>注释掉
                            <code>_test2()</code>运行结果：
                            <code>NameError: name '__test3' is not defined</code>
                        </p>
                        <p>小明有点尴尬，然后转了个话题，说道：”那import不是无敌了？我们的私有不给力啊？“</p>
                        <p>伟哥语重心长的说道：</p>
                        <p>类似
                            <code>_xxx</code>和
                            <code>__xxx</code>这样的函数或变量就是非公开的（private），不应该被直接引用</p>
                        <p>之所以我们说，“不应该”被直接引用，而不是“不能”被直接引用，是因为Python并没有一种方法可以完全限制访问private函数或变量</p>
                        <p>比如小明的那种方式就可以直接使用了，但是从编程习惯上不应该引用private函数或变量。</p>
                        <p>我们平时使用的时候：</p>
                        <p>
                            <strong>外部不需要引用的函数全部定义成private，只有外部需要引用的函数才定义为public</strong>,然后导入的时候尽量使用
                            <strong>
                                <code>from ... import</code>
                            </strong>
                        </p>
                        <h3 id="3.2.&#36890;&#36807;__all__&#26469;&#25511;&#21046;">3.2.&#36890;&#36807;__all__&#26469;&#25511;&#21046;
                            <a class="anchor-link" href="#3.2.&#36890;&#36807;__all__&#26469;&#25511;&#21046;">&#182;</a>
                        </h3>
                        <p>来个案例即可：</p>
                        <p>test4.py</p>
                        <div class="highlight">
                            <pre><span></span><span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Dog&quot;</span><span class="p">,</span> <span class="s2">&quot;test1&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">]</span>

<span class="k">class</span> <span class="nc">Animal</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="k">class</span> <span class="nc">Dog</span><span class="p">(</span><span class="n">Animal</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="k">class</span> <span class="nc">Cat</span><span class="p">(</span><span class="n">Animal</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="k">def</span> <span class="nf">test1</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;test1&quot;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">test2</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;test2&quot;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">test3</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;test3&quot;</span><span class="p">)</span>

<span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;小明&quot;</span>
<span class="n">age</span> <span class="o">=</span> <span class="s2">&quot;22&quot;</span>
</pre>
                        </div>
                        <p>效果：只有
                            <code>__all__</code>列表里面的才能被访问
                            <img src="../../../images/python/2018-06-20/all.png" alt="图片">
                        </p>

                    </div>
                </div>
            </div>
            <div class="cell border-box-sizing text_cell rendered">
                <div class="prompt input_prompt">
                </div>
                <div class="inner_cell">
                    <div class="text_cell_render border-box-sizing rendered_html">
                        <h2 id="4.&#20108;&#36827;&#21046;&#25991;&#20214;pyc">4.&#20108;&#36827;&#21046;&#25991;&#20214;pyc
                            <a class="anchor-link" href="#4.&#20108;&#36827;&#21046;&#25991;&#20214;pyc">&#182;</a>
                        </h2>
                        <p>小明，看到使用的电脑出现了这么多的pyc文件，以为中毒了，慌了慌了，连忙问道："伟哥伟哥，这个pyc是啥啊？不会是病毒吧？"</p>

                        <pre><code>├── 1.def_module.py
├── 2.use_module.py
├── 3.use_name.py
├── 4.use_module.py
├── 5.use_all_.py
├── get_user_infos.py
├── __pycache__
│   ├── get_user_infos.cpython-36.pyc
│   ├── test1.cpython-36.pyc
│   ├── test2.cpython-36.pyc
│   ├── test3.cpython-36.pyc
│   ├── test4.cpython-36.pyc
│   └── test.cpython-36.pyc
├── test1.py
├── test2.py
├── test3.py
├── test4.py
└── test.py</code></pre>
                        <p>旁边小李嘲笑道～”这你都不知道“</p>
                        <p>为了
                            <strong>提高加载模块的速度</strong>，python解释器会在
                            <strong>pycache</strong>目录中下缓存每个模块编译后的版本</p>
                        <p>格式为：
                            <strong>
                                <code>模块名.Python版本号.pyc</code>
                            </strong> 这种命名规范保证了编译后的结果多版本共存</p>
                        <p>小明问道，那我更新文件它怎么办呢？</p>
                        <p>小李瞥了一眼说道：</p>
                        <p>Python检查源文件的修改时间与编译的版本进行对比，如果过期就自动重新编译</p>
                        <p>并且编译的模块是平台独立的，所以相同的库可以在不同的架构的系统之间共享</p>
                        <p>小明恍然大悟，说道：</p>
                        <p>这不类似于Java和Net嘛，将来咋们编写的东西都可以跨平台了啊，O(∩_∩)O~，反正是由python虚拟机来执行的，太方便了</p>
                        <p>PS：pyc文件是可以反编译的，因而它的出现仅仅是用来提升模块的加载速度的，不是用来加密的</p>

                    </div>
                </div>
            </div>
            <div class="cell border-box-sizing text_cell rendered">
                <div class="prompt input_prompt">
                </div>
                <div class="inner_cell">
                    <div class="text_cell_render border-box-sizing rendered_html">
                        <h2 id="5.&#33258;&#24049;&#28155;&#21152;&#27169;&#22359;&#36335;&#24452;">5.&#33258;&#24049;&#28155;&#21152;&#27169;&#22359;&#36335;&#24452;
                            <a class="anchor-link" href="#5.&#33258;&#24049;&#28155;&#21152;&#27169;&#22359;&#36335;&#24452;">&#182;</a>
                        </h2>
                        <p>小明乘着大家休息的时候回宿舍拿了个笔记本，继续听道：</p>
                        <p>当你导入一个模块，Python解析器对模块位置的搜索顺序是：</p>
                        <ol>
                            <li>当前目录</li>
                            <li>如果不在当前目录，Python则搜索在shell变量PYTHONPATH下的每个目录。</li>
                            <li>如果都找不到，Python会查看默认路径。xinux下，默认路径一般为/usr/local/lib/python/</li>
                            <li>模块搜索路径存储在system模块的
                                <code>sys.path</code>变量中。变量里包含当前目录，PYTHONPATH和由安装过程决定的默认目录</li>
                        </ol>
                        <p>
                            <strong>总之你看
                                <code>sys.path</code>就对了</strong>
                        </p>
                        <p>前几天时间发布了Python3.7，我们设置vscode的运行环境为Python3.7，然后看看：
                            <img src="../../../images/python/2018-06-20/3.7.1.png" alt="图片">
                        </p>
                        <p>我用的是conda的一个路径,Python3.7相关的一下插件没那么完善，我用的是3.6系列，
                            <code>3.7</code>你可以用来练习一下
                            <code>新语法糖</code>
                            <img src="../../../images/python/2018-06-20/3.7.2.png" alt="图片">
                        </p>

                        <pre><code>['', # 当前目录
'/usr/lib/python37.zip', '/usr/lib/python3.7', 
'/usr/lib/python3.7/lib-dynload',
 '/usr/local/lib/python3.7/dist-packages', 
 '/usr/lib/python3/dist-packages']</code></pre>
                        <p>小明心想，我是省事直接装了个conda路径是啥呢？于是自己测试了下：</p>

                    </div>
                </div>
            </div>
            <div class="cell border-box-sizing code_cell rendered">
                <div class="input">
                    <div class="prompt input_prompt">In&nbsp;[3]:</div>
                    <div class="inner_cell">
                        <div class="input_area">
                            <div class=" highlight hl-ipython3">
                                <pre><span></span><span class="c1"># conda的默认搜索路径</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="nb">print</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>
</pre>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="output_wrapper">
                    <div class="output">


                        <div class="output_area">

                            <div class="prompt"></div>


                            <div class="output_subarea output_stream output_stdout output_text">
                                <pre>[&#39;&#39;, &#39;/home/dnt/anaconda3/lib/python36.zip&#39;, &#39;/home/dnt/anaconda3/lib/python3.6&#39;, &#39;/home/dnt/anaconda3/lib/python3.6/lib-dynload&#39;, &#39;/home/dnt/.local/lib/python3.6/site-packages&#39;, &#39;/home/dnt/anaconda3/lib/python3.6/site-packages&#39;, &#39;/home/dnt/anaconda3/lib/python3.6/site-packages/IPython/extensions&#39;, &#39;/home/dnt/.ipython&#39;]
</pre>
                            </div>
                        </div>

                    </div>
                </div>

            </div>
            <div class="cell border-box-sizing text_cell rendered">
                <div class="prompt input_prompt">
                </div>
                <div class="inner_cell">
                    <div class="text_cell_render border-box-sizing rendered_html">
                        <p>运维方面用些许，平时用的不是很多，一带而过~</p>
                        <p>细心可以看到，sys.path是一个列表，那么你对其添加删除操作也是和list一样的</p>
                        <p>比如这个场景，服务器给不同的用户使用，又不想他们的程序访问到超过其文件夹外的文件（系统、其他用户）</p>
                        <p>那么可以弄一个公共的库文件夹（手段先不用管），用程序模拟一下
                            <img src="../../../images/python/2018-06-20/syspath.png" alt="图片">
                        </p>
                        <p>
                            <strong>这种方法是在运行时修改，运行结束后失效</strong>
                        </p>
                        <p>其实还可以设置环境变量
                            <code>pythonpath</code>，该环境变量的内容会被自动添加到模块搜索路径中。设置方式与设置Path环境变量类似。</p>
                        <p>注意只需要添加你自己的搜索路径，Python自己本身的搜索路径不受影响。（列表第二个就是说的这个）</p>
                        <h2 id="6.&#27169;&#22359;&#37325;&#26032;&#23548;&#20837;">6.&#27169;&#22359;&#37325;&#26032;&#23548;&#20837;
                            <a class="anchor-link" href="#6.&#27169;&#22359;&#37325;&#26032;&#23548;&#20837;">&#182;</a>
                        </h2>
                        <p>import语句是可以在程序中的任意位置使用的,且针对同一个模块很import多次</p>
                        <p>为了防止你重复导入，python的优化手段是：</p>
                        <p>
                            <strong>第一次导入后就将模块名加载到内存了，后续的import语句仅是对已经加载到内存中的模块对象增加了一次引用，不会重新执行模块内的语句</strong>
                        </p>
                        <p>看个例子：
                            <img src="../../../images/python/2018-06-20/reload.png" alt="图片">
                        </p>
                        <p>想要重新导入修改的模块，可以使用官方推荐的方法：
                            <code>importlib</code>下面的
                            <code>reload</code>方法</p>
                        <div class="highlight">
                            <pre><span></span><span class="kn">from</span> <span class="nn">importlib</span> <span class="kn">import</span> <span class="nb">reload</span>

<span class="nb">reload</span><span class="p">(</span><span class="n">test</span><span class="p">)</span>
</pre>
                        </div>
                        <p>当然了你也可以使用
                            <code>imp</code>下面的
                            <code>reload</code>方法（
                            <a href="https://docs.python.org/3/library/imp.html" target="_blank">3.4往后，官方就不推荐使用 **imp** 了</a>）</p>
                        <h3 id="6.1.&#24490;&#29615;&#23548;&#20837;&#30340;&#38382;&#39064;">6.1.&#24490;&#29615;&#23548;&#20837;&#30340;&#38382;&#39064;
                            <a class="anchor-link" href="#6.1.&#24490;&#29615;&#23548;&#20837;&#30340;&#38382;&#39064;">&#182;</a>
                        </h3>
                        <p>稍微提一下循环导入（类似于C#循环引用），能避免就避免。</p>
                        <p>
                            <strong>子模块相对独立，尽量别相互导入，通过父模块来调用</strong> (有点像微服务的感觉)</p>
                        <p>这样不会混乱也不会出现循环导入的问题了</p>
                        <p>如果项目里面真的出现了循环导入，那么可以这么解决（参考）：</p>
                        <ol>
                            <li>重新设计架构，解除相互引用的关系</li>
                            <li>把import语句放置在模块的最后</li>
                            <li>把import语句放置在函数中</li>
                        </ol>

                    </div>
                </div>
            </div>
            <div class="cell border-box-sizing text_cell rendered">
                <div class="prompt input_prompt">
                </div>
                <div class="inner_cell">
                    <div class="text_cell_render border-box-sizing rendered_html">
                        <h2 id="7.&#24120;&#29992;&#27169;&#22359;">7.&#24120;&#29992;&#27169;&#22359;
                            <a class="anchor-link" href="#7.&#24120;&#29992;&#27169;&#22359;">&#182;</a>
                        </h2>
                        <p>看到标题小明就乐了，这不～终于可以说话了，不用被他们压抑的不敢出声了～</p>
                        <p>之前说了很多，比如
                            <code>time</code>,
                            <code>random</code>,
                            <code>sys</code>等等，这次再扩充几个用的比较多的模块</p>
                        <p>后面demo里面还会再说，可以自己学习一下（
                            <a href="https://docs.python.org/3/library" target="_blank">官方文档</a>）（
                            <a href="https://github.com/python/cpython/tree/3.7/Lib" target="_blank">源码文件</a>）</p>
                        <h3 id="7.1.time-and-datetime">7.1.time and datetime
                            <a class="anchor-link" href="#7.1.time-and-datetime">&#182;</a>
                        </h3>
                        <p>在Python中，通常有这几种方式来表示时间：</p>
                        <p>由于Python的
                            <strong>time</strong>模块实现主要调用C库，所以各个平台可能有所不同</p>
                        <ol>
                            <li>时间戳（timestamp）：从1970年1月1日00:00:00开始按秒计算的偏移量
                                <ul>
                                    <li>
                                        <code>type(time.time())</code> ==&gt;
                                        <code>float</code>
                                    </li>
                                    <li>返回时间戳方式的函数主要有
                                        <code>time()</code>，
                                        <code>clock()</code>(这个Win和Xinux系列有些区别)等</li>
                                </ul>
                            </li>
                            <li>格式化的时间字符串</li>
                            <li>UTC世界标准时间(在中国为UTC+8)，DST（Daylight Saving Time）即夏令时。
                                <ul>
                                    <li>元组（struct_time）共有9个元素</li>
                                    <li>返回struct_time的函数主要有gmtime()，localtime()，strptime()</li>
                                </ul>
                            </li>
                        </ol>
                        <p>看到表格不用怀疑，没错，更详细可以看
                            <a href="https://docs.python.org/3/library/time.html#time.struct_time" target="_blank">官方介绍</a>
                        </p>

                        <pre><code>| 索引　| 属性                    　| 值                        |
| ---- | -------------------------| ------------------------- |
| 0    | tm_year（年）             | eg:2018                   |
| 1    | tm_mon（月）              | range [1, 12]             |
| 2    | tm_mday（日）             | range [1, 31]             |
| 3    | tm_hour（时）             | range [0, 23]             |
| 4    | tm_min（分）              | range [0, 59]             |
| 5    | tm_sec（秒）              | range [0, 61]             |
| 6    | tm_wday（星期几）        　| range [0, 6]（0表示周日）   |
| 7    | tm_yday（一年中的第几天）   | range [1, 366]            |
| 8    | tm_isdst（是否是夏令时）  　| 0, 1 or -1                |</code></pre>
                        <p>
                            <strong>
                                <code>datetime</code>模块</strong>
                        </p>
                        <p>
                            <code>datetime.datetime.now().strftime("%Y-%m-%d %X")</code>
                        </p>
                        <p>主要是时间相关的封装，案例在time模块的下面：</p>

                    </div>
                </div>
            </div>
            <div class="cell border-box-sizing code_cell rendered">
                <div class="input">
                    <div class="prompt input_prompt">In&nbsp;[4]:</div>
                    <div class="inner_cell">
                        <div class="input_area">
                            <div class=" highlight hl-ipython3">
                                <pre><span></span><span class="kn">import</span> <span class="nn">time</span>

<span class="c1"># 时间戳，结果是float类型</span>
<span class="nb">print</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span>

<span class="c1"># 格式化的时间字符串：年-月-日 小时:分钟:秒</span>
<span class="nb">print</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> </span><span class="si">%X</span><span class="s2">&quot;</span><span class="p">))</span>


<span class="nb">print</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">())</span>  <span class="c1"># 本地时区的 struct_time</span>
<span class="nb">print</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">gmtime</span><span class="p">())</span>  <span class="c1"># UTC时区（世界标准时间）的struct_time</span>

<span class="c1"># time.mktime 将一个 struct_time 转化为时间戳</span>
<span class="nb">print</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">mktime</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">()))</span>

<span class="c1"># t = time.localtime()</span>
<span class="c1"># print(time.asctime(t)) # 把一个表示时间的元组或者struct_time表示为这种形式：&#39;Sun Jun 20 23:21:05 1993&#39;</span>
<span class="c1"># print(time.asctime()) # 不写参数默认就是time.localtime()</span>
</pre>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="output_wrapper">
                    <div class="output">


                        <div class="output_area">

                            <div class="prompt"></div>


                            <div class="output_subarea output_stream output_stdout output_text">
                                <pre>1530595914.981183
2018-07-03 13:31:54
time.struct_time(tm_year=2018, tm_mon=7, tm_mday=3, tm_hour=13, tm_min=31, tm_sec=54, tm_wday=1, tm_yday=184, tm_isdst=0)
time.struct_time(tm_year=2018, tm_mon=7, tm_mday=3, tm_hour=5, tm_min=31, tm_sec=54, tm_wday=1, tm_yday=184, tm_isdst=0)
1530595914.0
</pre>
                            </div>
                        </div>

                    </div>
                </div>

            </div>
            <div class="cell border-box-sizing code_cell rendered">
                <div class="input">
                    <div class="prompt input_prompt">In&nbsp;[5]:</div>
                    <div class="inner_cell">
                        <div class="input_area">
                            <div class=" highlight hl-ipython3">
                                <pre><span></span><span class="kn">import</span> <span class="nn">datetime</span>

<span class="nb">print</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">())</span>  <span class="c1"># 当前时间 2018-07-03 13:02:20.824494</span>
<span class="nb">print</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> </span><span class="si">%X</span><span class="s2">&quot;</span><span class="p">))</span>  <span class="c1"># 当前时间 2018-07-03 13:02:20</span>

<span class="c1"># 时间加减</span>
<span class="nb">print</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">+</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>  <span class="c1"># 当前时间+3天</span>
<span class="nb">print</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">+</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">))</span>  <span class="c1"># 当前时间-3天</span>
<span class="nb">print</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">+</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">3</span><span class="p">))</span>  <span class="c1"># 当前时间+3小时</span>
<span class="nb">print</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">+</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">minutes</span><span class="o">=</span><span class="mi">30</span><span class="p">))</span>  <span class="c1"># 当前时间+30分</span>
</pre>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="output_wrapper">
                    <div class="output">


                        <div class="output_area">

                            <div class="prompt"></div>


                            <div class="output_subarea output_stream output_stdout output_text">
                                <pre>2018-07-03 13:31:55.147268
2018-07-03 13:31:55
2018-07-06 13:31:55.147883
2018-06-30 13:31:55.148109
2018-07-03 16:31:55.148315
2018-07-03 14:01:55.148532
</pre>
                            </div>
                        </div>

                    </div>
                </div>

            </div>
            <div class="cell border-box-sizing text_cell rendered">
                <div class="prompt input_prompt">
                </div>
                <div class="inner_cell">
                    <div class="text_cell_render border-box-sizing rendered_html">
                        <h3 id="7.2.random">7.2.random
                            <a class="anchor-link" href="#7.2.random">&#182;</a>
                        </h3>
                        <p>
                            <code>random</code>小明有好好研究，于是抢着讲解：</p>
                        <p>常用方法主要是这几个：</p>
                        <p>
                            <code>random.random()</code>：大于0且小于1之间的小数</p>
                        <p>
                            <code>random.randint(1, 3)</code>：[1,3] 大于等于1且小于等于3之间的整数</p>
                        <p>
                            <code>random.randrange(1, 3)</code>：[1,3) 大于等于1且小于3之间的整数</p>
                        <p>
                            <code>random.choice([4, 'a', [1, 2]])</code>：随机返回三者之一</p>
                        <p>
                            <code>random.uniform(1, 3)</code>：大于1小于3的小数，如1.927109612082716</p>
                        <p>
                            <code>random.sample(old_list, 5)</code>：从list中随机获取5个元素，作为一个片断返回</p>
                        <p>
                            <code>random.shuffle(old_list)</code>：打乱list的顺序</p>
                        <p>下面来看看例子吧（最下面有个简单验证码的demo）:</p>

                    </div>
                </div>
            </div>
            <div class="cell border-box-sizing code_cell rendered">
                <div class="input">
                    <div class="prompt input_prompt">In&nbsp;[6]:</div>
                    <div class="inner_cell">
                        <div class="input_area">
                            <div class=" highlight hl-ipython3">
                                <pre><span></span><span class="kn">import</span> <span class="nn">random</span>
</pre>
                            </div>

                        </div>
                    </div>
                </div>

            </div>
            <div class="cell border-box-sizing code_cell rendered">
                <div class="input">
                    <div class="prompt input_prompt">In&nbsp;[7]:</div>
                    <div class="inner_cell">
                        <div class="input_area">
                            <div class=" highlight hl-ipython3">
                                <pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">())</span>  <span class="c1"># 大于0且小于1之间的小数</span>

<span class="nb">print</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>  <span class="c1"># [1,3]    大于等于1且小于等于3之间的整数</span>

<span class="nb">print</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>  <span class="c1"># [1,3)    大于等于1且小于3之间的整数</span>

<span class="nb">print</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]))</span>  <span class="c1"># 随机返回三者之一</span>

<span class="nb">print</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>  <span class="c1"># 大于1小于3的小数，如1.927109612082716</span>
</pre>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="output_wrapper">
                    <div class="output">


                        <div class="output_area">

                            <div class="prompt"></div>


                            <div class="output_subarea output_stream output_stdout output_text">
                                <pre>0.08269940155686328
3
2
[1, 2]
2.1607974783487136
</pre>
                            </div>
                        </div>

                    </div>
                </div>

            </div>
            <div class="cell border-box-sizing code_cell rendered">
                <div class="input">
                    <div class="prompt input_prompt">In&nbsp;[8]:</div>
                    <div class="inner_cell">
                        <div class="input_area">
                            <div class=" highlight hl-ipython3">
                                <pre><span></span><span class="c1"># 从list中随机获取N个元素，作为一个片断返回</span>
<span class="n">old_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="n">new_list</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">old_list</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>  <span class="c1"># 从list中随机获取5个元素，作为一个片断返回</span>
<span class="nb">print</span><span class="p">(</span><span class="n">old_list</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">new_list</span><span class="p">)</span>  <span class="c1"># 原有序列并没有改变</span>
</pre>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="output_wrapper">
                    <div class="output">


                        <div class="output_area">

                            <div class="prompt"></div>


                            <div class="output_subarea output_stream output_stdout output_text">
                                <pre>[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
[7, 6, 9, 10, 3]
</pre>
                            </div>
                        </div>

                    </div>
                </div>

            </div>
            <div class="cell border-box-sizing code_cell rendered">
                <div class="input">
                    <div class="prompt input_prompt">In&nbsp;[9]:</div>
                    <div class="inner_cell">
                        <div class="input_area">
                            <div class=" highlight hl-ipython3">
                                <pre><span></span><span class="n">test_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
<span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">test_list</span><span class="p">)</span>  <span class="c1"># 打乱test_list的顺序</span>
<span class="nb">print</span><span class="p">(</span><span class="n">test_list</span><span class="p">)</span>
</pre>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="output_wrapper">
                    <div class="output">


                        <div class="output_area">

                            <div class="prompt"></div>


                            <div class="output_subarea output_stream output_stdout output_text">
                                <pre>[1, 5, 7, 9, 3]
</pre>
                            </div>
                        </div>

                    </div>
                </div>

            </div>
            <div class="cell border-box-sizing code_cell rendered">
                <div class="input">
                    <div class="prompt input_prompt">In&nbsp;[10]:</div>
                    <div class="inner_cell">
                        <div class="input_area">
                            <div class=" highlight hl-ipython3">
                                <pre><span></span><span class="c1"># 简单验证码的例子</span>
<span class="kn">import</span> <span class="nn">random</span>


<span class="k">def</span> <span class="nf">get_code</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;简单验证码&quot;&quot;&quot;</span>
    <span class="n">code</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
        <span class="n">s1</span> <span class="o">=</span> <span class="nb">chr</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">65</span><span class="p">,</span> <span class="mi">90</span><span class="p">))</span>  <span class="c1"># 字母</span>
        <span class="n">s2</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">))</span>  <span class="c1"># 数字</span>
        <span class="n">code</span> <span class="o">+=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">])</span>  <span class="c1"># 随机返回s1 or s2</span>
    <span class="k">return</span> <span class="n">code</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">get_code</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="output_wrapper">
                    <div class="output">


                        <div class="output_area">

                            <div class="prompt"></div>


                            <div class="output_subarea output_stream output_stdout output_text">
                                <pre>KOOH
</pre>
                            </div>
                        </div>

                    </div>
                </div>

            </div>
            <div class="cell border-box-sizing text_cell rendered">
                <div class="prompt input_prompt">
                </div>
                <div class="inner_cell">
                    <div class="text_cell_render border-box-sizing rendered_html">
                        <h3 id="7.3.hashlib">7.3.hashlib
                            <a class="anchor-link" href="#7.3.hashlib">&#182;</a>
                        </h3>
                        <p>一看到hashlib，小明就退缩了，只能继续听伟哥讲解：</p>
                        <p>官方文档：
                            <a href="https://docs.python.org/3/library/hashlib.html" blank="_self">https://docs.python.org/3/library/hashlib.html</a>
                        </p>
                        <p>简单hash：
                            <strong>
                                <code>hashlib.sha256(pass_str.encode("utf-8")).hexdigest()</code>
                            </strong>
                        </p>
                        <p>和key一起加密：</p>
                        <div class="highlight">
                            <pre><span></span><span class="kn">import</span> <span class="nn">hashlib</span>

<span class="n">pass_str</span> <span class="o">=</span> <span class="s2">&quot;123456&quot;</span>

<span class="n">m</span> <span class="o">=</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">()</span>

<span class="n">m</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">pass_str</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">))</span>

<span class="n">m</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="s2">&quot;你设置的key&quot;</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">))</span>

<span class="n">pass_str_new</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>
</pre>
                        </div>
                        <p>扩展：python 还有一个
                            <code>hmac</code>模块，它内部对我们创建
                            <code>key</code>和
                            <code>pass</code>进行处理后再加密：
                            <a href="https://docs.python.org/3/library/hmac.html" blank="_self">https://docs.python.org/3/library/hmac.html</a>
                        </p>

                    </div>
                </div>
            </div>
            <div class="cell border-box-sizing code_cell rendered">
                <div class="input">
                    <div class="prompt input_prompt">In&nbsp;[11]:</div>
                    <div class="inner_cell">
                        <div class="input_area">
                            <div class=" highlight hl-ipython3">
                                <pre><span></span><span class="kn">import</span> <span class="nn">hashlib</span>

<span class="n">pass_str</span> <span class="o">=</span> <span class="s2">&quot;123456&quot;</span>
</pre>
                            </div>

                        </div>
                    </div>
                </div>

            </div>
            <div class="cell border-box-sizing code_cell rendered">
                <div class="input">
                    <div class="prompt input_prompt">In&nbsp;[12]:</div>
                    <div class="inner_cell">
                        <div class="input_area">
                            <div class=" highlight hl-ipython3">
                                <pre><span></span><span class="c1"># 简单hash一下</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">()</span>

<span class="n">m</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">pass_str</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">))</span>

<span class="n">pass_str_new</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">pass_str_new</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pass_str_new</span><span class="p">))</span>
</pre>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="output_wrapper">
                    <div class="output">


                        <div class="output_area">

                            <div class="prompt"></div>


                            <div class="output_subarea output_stream output_stdout output_text">
                                <pre>8d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92
64
</pre>
                            </div>
                        </div>

                    </div>
                </div>

            </div>
            <div class="cell border-box-sizing code_cell rendered">
                <div class="input">
                    <div class="prompt input_prompt">In&nbsp;[13]:</div>
                    <div class="inner_cell">
                        <div class="input_area">
                            <div class=" highlight hl-ipython3">
                                <pre><span></span><span class="c1"># 简写：</span>
<span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">(</span><span class="n">pass_str</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>
</pre>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="output_wrapper">
                    <div class="output">


                        <div class="output_area">

                            <div class="prompt output_prompt">Out[13]:</div>




                            <div class="output_text output_subarea output_execute_result">
                                <pre>&#39;8d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92&#39;</pre>
                            </div>

                        </div>

                    </div>
                </div>

            </div>
            <div class="cell border-box-sizing code_cell rendered">
                <div class="input">
                    <div class="prompt input_prompt">In&nbsp;[14]:</div>
                    <div class="inner_cell">
                        <div class="input_area">
                            <div class=" highlight hl-ipython3">
                                <pre><span></span><span class="c1"># 简写这么方便为什么要像上面例子那么复杂呢？</span>
<span class="c1"># 直接加密的方式可以通过撞库破解，但你可以设置个key来加大难度</span>
<span class="c1"># 大部分网站都是用平台key + 用户key（可以是用户创建时间或者id之类的不变信息）来加密的</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">()</span>

<span class="n">m</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">pass_str</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">))</span>

<span class="n">m</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="s2">&quot;你设置的key&quot;</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">))</span>

<span class="n">pass_str_new</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">pass_str_new</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pass_str_new</span><span class="p">))</span>
</pre>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="output_wrapper">
                    <div class="output">


                        <div class="output_area">

                            <div class="prompt"></div>


                            <div class="output_subarea output_stream output_stdout output_text">
                                <pre>fadc86f44ab0f13346bf3293b5bc51112569a21e421809f93a096c917d7731ce
64
</pre>
                            </div>
                        </div>

                    </div>
                </div>

            </div>
            <div class="cell border-box-sizing text_cell rendered">
                <div class="prompt input_prompt">
                </div>
                <div class="inner_cell">
                    <div class="text_cell_render border-box-sizing rendered_html">
                        <p>常用模块里面还有很多，就不一一介绍了，比如：
                            <code>functools</code>里面的偏函数
                            <code>partial</code>
                        </p>
                        <p>这个我们下次讲闭包相关知识会说的
                            <code>functools.partial(函数名, 默认参数1，默认参数2...)</code>
                        </p>
                        <h2 id="8.&#31532;&#19977;&#26041;&#27169;&#22359;&#23433;&#35013;">8.&#31532;&#19977;&#26041;&#27169;&#22359;&#23433;&#35013;
                            <a class="anchor-link" href="#8.&#31532;&#19977;&#26041;&#27169;&#22359;&#23433;&#35013;">&#182;</a>
                        </h2>
                        <p>第三方模块安装之前有说过：
                            <a href="https://www.cnblogs.com/dotnetcrazy/p/9095793.html" target="_blank">https://www.cnblogs.com/dotnetcrazy/p/9095793.html</a>
                        </p>
                        <p>简单提一下：（
                            <a href="https://pypi.org" target="_blank">pip官网</a>）</p>
                        <div class="highlight">
                            <pre><span></span>pip install 模块名 <span class="c1"># 正常</span>

sudo pip install 模块名 <span class="c1"># 没权限运行</span>

pip install --user 模块名 <span class="c1"># conda下的pip</span>
</pre>
                        </div>
                        <p>如果不想让包破坏自己的环境，可以使用：virtualenv，你可以作为扩展了解下（
                            <a href="http://www.cnblogs.com/zhaof/p/8358902.html" target="_blank">参考</a>）</p>
                        <hr>
                        <h2 id="9.&#21253;&#31995;&#21015;&#65288;&#23548;&#20837;&#12289;&#21457;&#24067;&#12289;&#23433;&#35013;&#65289;">9.&#21253;&#31995;&#21015;&#65288;&#23548;&#20837;&#12289;&#21457;&#24067;&#12289;&#23433;&#35013;&#65289;
                            <a class="anchor-link" href="#9.&#21253;&#31995;&#21015;&#65288;&#23548;&#20837;&#12289;&#21457;&#24067;&#12289;&#23433;&#35013;&#65289;">&#182;</a>
                        </h2>
                        <p>如果不同的人编写的模块名相同怎么办？</p>
                        <p>小明抢答曰：”为了避免模块名冲突，Python又引入了按目录来组织模块的方法，称为包（Package）“</p>
                        <p>小张斜了一眼小明补充道：”相互间有联系功能的模块可以放在一个包里，这个包就有点像C#的文件夹和类库的概念了“</p>
                        <p>小明不服气的把小潘那段代码的开头贴了出来：
                            <code>import matplotlib.pyplot as plt</code>，然后叫嚣道：”怎么样，这个肯定用到了包“</p>
                        <h3 id="9.1.&#21253;&#30340;&#23450;&#20041;">9.1.&#21253;&#30340;&#23450;&#20041;
                            <a class="anchor-link" href="#9.1.&#21253;&#30340;&#23450;&#20041;">&#182;</a>
                        </h3>
                        <p>课代表看着这两个活宝，然后继续讲解道：</p>
                        <p>
                            <strong>模块是一组Python代码的集合，可以使用其他模块，也可以被其他模块使用</strong>
                        </p>
                        <p>比如一个模块的名称是
                            <code>A.B</code>， 那么他表示一个包
                            <code>A</code>中的子模块
                            <code>B</code>
                        </p>
                        <p>刚说完，小明就得意的看着小张，然后继续听课：</p>
                        <p>创建自己的模块时，要注意：</p>
                        <ol>
                            <li>模块名要遵循Python变量命名规范，不要使用中文、特殊字符</li>
                            <li>模块名不要和系统模块名冲突（
                                <a href="https://docs.python.org/3/library/index.html" target="_blank">标准库</a>）</li>
                        </ol>
                        <p>下面我们来一个简单的案例：</p>
                        <p>自己定义一个包，目录结构如下：（
                            <code>__init__.py</code>是空文件）</p>

                        <pre><code>web/
├── data.py
├── __init__.py
└── json.py</code></pre>
                        <p>调用web包里面的
                            <code>get_json()</code>方法：</p>
                        <div class="highlight">
                            <pre><span></span><span class="kn">from</span> <span class="nn">web.json</span> <span class="kn">import</span> <span class="n">get_json</span>

<span class="n">get_json</span><span class="p">()</span>
</pre>
                        </div>
                        <p>或者：</p>
                        <div class="highlight">
                            <pre><span></span><span class="kn">import</span> <span class="nn">web.json</span> <span class="kn">as</span> <span class="nn">json</span>

<span class="n">json</span><span class="o">.</span><span class="n">get_json</span><span class="p">()</span>
</pre>
                        </div>
                        <p>
                            <strong>每一个包目录下面都会有一个
                                <code>__init__.py</code>的文件，这个文件是必须存在的，否则Python就把这个目录当成普通目录</strong>
                        </p>
                        <p>
                            <code>__init__.py</code>可以是空文件，编译器默认会把它认成名字是文件夹名的
                            <strong>模块</strong>，eg:
                            <code>web</code>
                        </p>
                        <h3 id="9.2.&#21253;&#30340;&#21046;&#23450;&#21270;-&#65374;-&#25511;&#21046;&#21487;&#20351;&#29992;&#30340;&#27169;&#22359;">9.2.&#21253;&#30340;&#21046;&#23450;&#21270; &#65374; &#25511;&#21046;&#21487;&#20351;&#29992;&#30340;&#27169;&#22359;
                            <a class="anchor-link" href="#9.2.&#21253;&#30340;&#21046;&#23450;&#21270;-&#65374;-&#25511;&#21046;&#21487;&#20351;&#29992;&#30340;&#27169;&#22359;">&#182;</a>
                        </h3>
                        <p>还记得之前讲得
                            <code>__all__</code>吧，如果你想控制包里面的模块能否被访问使用，可以使用它</p>
                        <p>比如web包下的
                            <strong>init</strong>文件中写下这一句：
                            <strong>
                                <code>__all__ = ["json"]</code>
                            </strong>
                        </p>
                        <p>神奇的事情发生了：</p>
                        <div class="highlight">
                            <pre><span></span><span class="kn">from</span> <span class="nn">web</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">json</span><span class="o">.</span><span class="n">get_json</span><span class="p">()</span>

<span class="n">data</span><span class="o">.</span><span class="n">get_data</span><span class="p">()</span>
</pre>
                        </div>
                        <p>在调用
                            <code>data.get_data()</code>的时候出现了如下错误：</p>

                        <pre><code>NameError: name 'data' is not defined</code></pre>
                        <p>小明想到了自己当时的那顿饭，然后用当时的思路试了下：</p>
                        <div class="highlight">
                            <pre><span></span><span class="c1"># 你这样调就不行了</span>
<span class="kn">import</span> <span class="nn">web</span>

<span class="n">web</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">get_data</span><span class="p">()</span>
</pre>
                        </div>
                        <p>发现和上面一样的错误，然后夸张的说道～“哈哈哈，这种方式无敌了，里面有谁能调
                            <code>data模块</code>下的
                            <code>get_data()方法</code>我就请他喝饮料！”</p>
                        <p>话刚落完，发现大家刷刷的提交了相同的代码：</p>
                        <div class="highlight">
                            <pre><span></span><span class="c1"># 同样的，你硬是要调，python也拿你没办法</span>
<span class="kn">import</span> <span class="nn">web.data</span> <span class="kn">as</span> <span class="nn">data</span>

<span class="n">data</span><span class="o">.</span><span class="n">get_data</span><span class="p">()</span>
</pre>
                        </div>
                        <p>小明顿时崩溃了，自我安慰到：“反正都是要请你们吃晚饭的了，也不差这饮料了...”</p>

                    </div>
                </div>
            </div>
            <div class="cell border-box-sizing text_cell rendered">
                <div class="prompt input_prompt">
                </div>
                <div class="inner_cell">
                    <div class="text_cell_render border-box-sizing rendered_html">
                        <h3 id="9.3.&#21457;&#24067;&#19968;&#20010;&#21253;">9.3.&#21457;&#24067;&#19968;&#20010;&#21253;
                            <a class="anchor-link" href="#9.3.&#21457;&#24067;&#19968;&#20010;&#21253;">&#182;</a>
                        </h3>
                        <p>把我们之前的Code做一个包，目录结构如下：</p>

                        <pre><code>├── datalib
│   ├── base
│   │   ├── get_user_infos.py
│   │   ├── __init__.py
│   │   ├── test1.py
│   │   ├── test2.py
│   │   ├── test3.py
│   │   ├── test4.py
│   │   └── test.py
│   ├── __init__.py
│   ├── main.py
│   └── web
│       ├── data.py
│       ├── __init__.py
│       └── json.py
└── setup.py</code></pre>
                        <p>模块的目录结构中包含一个setup.py文件，用于定义模块名称、包含的模块等模块信息</p>
                        <p>固定格式如下：</p>
                        <div class="highlight">
                            <pre><span></span><span class="n">setup</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;模块名称&quot;</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="s2">&quot;版本&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;模块描述&quot;</span><span class="p">,</span> <span class="n">author</span><span class="o">=</span><span class="s2">&quot;模块作者&quot;</span><span class="p">,</span> <span class="n">py_modules</span><span class="o">=</span><span class="p">[</span><span class="err">包含的模块内容</span><span class="p">])</span>
</pre>
                        </div>
                        <p>以demo为例：</p>
                        <div class="highlight">
                            <pre><span></span><span class="kn">from</span> <span class="nn">distutils.core</span> <span class="kn">import</span> <span class="n">setup</span>

<span class="n">setup</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;datalib&quot;</span><span class="p">,</span>
    <span class="n">version</span><span class="o">=</span><span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="n">description</span><span class="o">=</span><span class="s2">&quot;数据相关的模块&quot;</span><span class="p">,</span>
    <span class="n">author</span><span class="o">=</span><span class="s2">&quot;小明&quot;</span><span class="p">,</span>
    <span class="n">py_modules</span><span class="o">=</span><span class="p">[</span>
        <span class="s2">&quot;datalib.base.get_user_infos&quot;</span><span class="p">,</span> <span class="s2">&quot;datalib.base.test&quot;</span><span class="p">,</span> <span class="s2">&quot;datalib.web.json&quot;</span>
    <span class="p">])</span>
</pre>
                        </div>
                        <p>build命令（构建模块）：
                            <code>python setup.py sdist</code> 来张图更形象：</p>
                        <p>
                            <img src="../../../images/python/2018-06-20/build.png" alt="图片">
                        </p>
                        <p>build文件夹：</p>

                        <pre><code>dnt@MZY-PC:~/xiaoming/build$ tree
.
└── lib
    └── datalib
        ├── base
        │   ├── get_user_infos.py
        │   ├── __init__.py
        │   └── test.py
        └── web
            ├── __init__.py
            └── json.py</code></pre>
                        <p>生成发布压缩包：
                            <strong>
                                <code>python3 setup.py sdist</code>
                            </strong> 他会帮你打包成一个
                            <code>tar.gz</code>的压缩包</p>
                        <p>其实你不构建，直接sdist也是可以的</p>

                        <pre><code>dnt@MZY-PC:~/xiaoming$ tree
.
├── datalib
│   ├── base
│   │   ├── get_user_infos.py
│   │   ├── __init__.py
│   │   ├── test1.py
│   │   ├── test2.py
│   │   ├── test3.py
│   │   ├── test4.py
│   │   └── test.py
│   ├── __init__.py
│   ├── main.py
│   └── web
│       ├── data.py
│       ├── __init__.py
│       └── json.py
├── dist
│   └── datalib-1.0.tar.gz
├── MANIFEST
└── setup.py</code></pre>
                        <h3 id="9.4.&#23433;&#35013;&#33258;&#24049;&#25171;&#21253;&#30340;&#27169;&#22359;">9.4.&#23433;&#35013;&#33258;&#24049;&#25171;&#21253;&#30340;&#27169;&#22359;
                            <a class="anchor-link" href="#9.4.&#23433;&#35013;&#33258;&#24049;&#25171;&#21253;&#30340;&#27169;&#22359;">&#182;</a>
                        </h3>
                        <p>安装比较简单，如果是build文件夹，直接
                            <code>sudo python setup.py install</code>
                        </p>
                        <p>如果是tar.gz，那么解压后再执行
                            <code>sudo python setup.py install</code>
                        </p>
                        <p>当然了，也可以目录安装：
                            <code>python setup.py install --prefix=路径</code>
                        </p>
                        <p>查看包内容：
                            <code>tar -tvf datalib-1.0.tar.gz</code>
                        </p>
                        <p>解包：
                            <code>tar -zxvf datalib-1.0.tar.gz</code>
                        </p>
                        <p>这些基础命令如果还不是很熟悉的话，可以看看逆天2015年写的
                            <a href="https://www.cnblogs.com/dunitian/p/4822807.html" target="_blank">LinuxBase</a>文档</p>
                        <p>其实说句心里话，2015开始摸索虚拟机中的Linux，几年提升肯定是有的，但是绝对没有这几个月的Linux真机开发来得快</p>
                        <p>逆天还是建议程序员尽快适应Linux环境开发，刚开始的确不方便，适应之后就感觉Win特别麻烦了...</p>
                        <p>很多东西一个指令就可以实现的，重复执行的东西写个脚本批量执行</p>
                        <p>当然了你Win下各种跑脚本也是一样的，但是别忘了～公司服务器基本上都是Linux的，该面对的总该来的，加油～</p>

                    </div>
                </div>
            </div>
            <div class="cell border-box-sizing text_cell rendered">
                <div class="prompt input_prompt">
                </div>
                <div class="inner_cell">
                    <div class="text_cell_render border-box-sizing rendered_html">
                        <h2 id="CSharp&#21253;&#30456;&#20851;&#30693;&#35782;">CSharp&#21253;&#30456;&#20851;&#30693;&#35782;
                            <a class="anchor-link" href="#CSharp&#21253;&#30456;&#20851;&#30693;&#35782;">&#182;</a>
                        </h2>
                        <p>Old C#相关的知识可以参考：
                            <a href="https://www.cnblogs.com/dunitian/p/6015459.html" target="_blank">如何在nuget上传自己的包</a>
                        </p>
                        <p>NetCore可以用打包命令：
                            <code>dotnet-pack</code>来打包成Nuget包，
                            <a href="https://docs.microsoft.com/zh-cn/dotnet/core/tools/dotnet-pack" target="_blank">官方文档</a>说的很详细了，就不一一复述了</p>
                        <p>打包当前目录中的项目：
                            <code>dotnet pack</code>
                        </p>
                        <p>打包 app1 项目：
                            <code>dotnet pack ~/projects/app1/project.csproj</code>
                        </p>
                        <p>打包当前目录中的项目并将生成的包放置到 nupkgs 文件夹：</p>
                        <p>
                            <code>dotnet pack --output nupkgs</code>
                        </p>
                        <p>将当前目录中的项目打包到 nupkgs 文件夹并跳过生成步骤：</p>
                        <p>
                            <code>dotnet pack --no-build --output nupkgs</code>
                        </p>
                        <p>使用 PackageVersion MSBuild 属性将包版本设置为 2.1.0：</p>
                        <p>
                            <code>dotnet pack /p:PackageVersion=2.1.0</code>
                        </p>
                        <p>打包特定目标框架的项目：</p>
                        <p>
                            <code>dotnet pack /p:TargetFrameworks=net45</code>
                        </p>
                        <p>打包项目，并使用特定运行时 (Windows 10) 进行还原操作（.NET Core SDK 2.0 及更高版本）：</p>
                        <p>
                            <code>dotnet pack --runtime win10-x64</code>
                        </p>

                    </div>
                </div>
            </div>
            <div class="cell border-box-sizing text_cell rendered">
                <div class="prompt input_prompt">
                </div>
                <div class="inner_cell">
                    <div class="text_cell_render border-box-sizing rendered_html">
                        <p>小明听完了这节课，感叹道～ “模块用起来真是爽啊”</p>
                        <p>然后问道：“为什么老师没讲呢？”</p>
                        <p>其他人一起鄙视小明说道：“你自己睡大觉你自己心里没有点逼数吗？”</p>
                        <p>小明大囧，感觉饮料和饭钱真是白花了。。。（完）</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

</html>